import{C as p,D as g,j as s,B as t,E as f,F as w,G as b,H as F,L as o,I as L,J as N,K as v}from"./index-G3OvlN23.js";import{u as C,t as k,F as y,a as i,b as l,c,d as m,I as d,e as x,o as S,s as h,A as I}from"./input-QeHzEa1X.js";import{L as A}from"./log-in-PAz98geW.js";const P=async e=>await new p().post("/auth/login",e),D=S({email:h().email(),password:h().min(8)});function E(){const e=C({defaultValues:{email:"",password:""},resolver:k(D)}),{isSubmitting:r}=e.formState,j=g(),u=async a=>{const n=await P(a);if(n.error){w.error(n.error.message);return}localStorage.setItem("token",n.data.token),j("/app",{replace:!0})};return s.jsx(y,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(u),children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx(i,{control:e.control,name:"email",render:({field:a})=>s.jsxs(l,{children:[s.jsx(c,{children:"Email"}),s.jsx(m,{children:s.jsx(d,{placeholder:"Masukkan email",...a})}),s.jsx(x,{})]})}),s.jsx(i,{control:e.control,name:"password",render:({field:a})=>s.jsxs(l,{children:[s.jsx(c,{children:"Password"}),s.jsx(m,{children:s.jsx(d,{type:"password",placeholder:"Masukkan password",...a})}),s.jsx(x,{})]})})]}),s.jsxs(t,{className:"w-full",type:"submit",disabled:r,children:[r?s.jsx(f,{className:"mr-2 w-4 h-4"}):s.jsx(A,{className:"w-4 h-4 mr-2"}),"Login"]})]})})}function z(){return s.jsx("main",{className:"h-dvh flex items-center justify-center bg-dots bg-no-repeat bg-cover",children:s.jsxs(b,{className:"w-full max-w-lg",children:[s.jsxs(F,{children:[s.jsx(t,{className:"w-fit mb-4",size:"sm",variant:"outline",asChild:!0,children:s.jsxs(o,{to:"/#home",children:[s.jsx(I,{className:"h-4 w-4 mr-2"})," Home"]})}),s.jsx(L,{children:"Login"}),s.jsx(N,{children:"Please fill the form below to login."})]}),s.jsxs(v,{children:[s.jsx(E,{}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-sm",children:"Don't have an account?"}),s.jsx(t,{size:"sm",variant:"link",asChild:!0,children:s.jsx(o,{to:"/register",children:"register"})})]})]})]})})}export{z as default};
