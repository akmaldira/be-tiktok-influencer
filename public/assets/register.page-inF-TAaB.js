import{c as y,C as f,D as w,j as s,B as x,E as b,F as k,G as v,H as N,L as u,I as F,J as C,K as P}from"./index-G3OvlN23.js";import{u as S,t as A,F as I,a as t,b as l,c as i,d as c,I as o,e as m,o as L,s as d,A as R}from"./input-QeHzEa1X.js";/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),E=async e=>await new f().post("/auth/register",e),H=L({name:d().min(3),email:d().email(),password:d().min(8)});function B(){const e=S({defaultValues:{name:"",email:"",password:""},resolver:A(H)}),{isSubmitting:r}=e.formState,p=w(),g=async a=>{var j;const n=await E(a),h=!!n.error;k[h?"error":"success"](h?"Account has been created successfully. Please log in.":(j=n.error)==null?void 0:j.message),n.error||p("/auth",{replace:!0})};return s.jsx(I,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(g),children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx(t,{control:e.control,name:"name",render:({field:a})=>s.jsxs(l,{children:[s.jsx(i,{children:"Name"}),s.jsx(c,{children:s.jsx(o,{placeholder:"Masukkan nama",...a})}),s.jsx(m,{})]})}),s.jsx(t,{control:e.control,name:"email",render:({field:a})=>s.jsxs(l,{children:[s.jsx(i,{children:"Email"}),s.jsx(c,{children:s.jsx(o,{placeholder:"Masukkan email",...a})}),s.jsx(m,{})]})}),s.jsx(t,{control:e.control,name:"password",render:({field:a})=>s.jsxs(l,{children:[s.jsx(i,{children:"Password"}),s.jsx(c,{children:s.jsx(o,{type:"password",placeholder:"Masukkan password",...a})}),s.jsx(m,{})]})})]}),s.jsxs(x,{className:"w-full",type:"submit",disabled:r,children:[r?s.jsx(b,{className:"mr-2 w-4 h-4"}):s.jsx(M,{className:"w-4 h-4 mr-2"}),"Register"]})]})})}function D(){return s.jsx("main",{className:"h-dvh flex items-center justify-center bg-dots bg-no-repeat bg-cover",children:s.jsxs(v,{className:"w-full max-w-lg",children:[s.jsxs(N,{children:[s.jsx(x,{className:"w-fit mb-4",size:"sm",variant:"outline",asChild:!0,children:s.jsxs(u,{to:"/#home",children:[s.jsx(R,{className:"h-4 w-4 mr-2"})," Home"]})}),s.jsx(F,{children:"Register"}),s.jsx(C,{children:"Please fill the form below to register new account."})]}),s.jsxs(P,{children:[s.jsx(B,{}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-sm",children:"Already have an account?"}),s.jsx(x,{size:"sm",variant:"link",asChild:!0,children:s.jsx(u,{to:"/auth",children:"Login"})})]})]})]})})}export{D as default};
